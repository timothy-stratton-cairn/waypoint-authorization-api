databaseChangeLog:
  - preConditions:
      onFail: HALT
      onError: HALT
  - changeSet:
      id: add-permissions-to-permission-table
      author: tstratton
      changes:
        - sql:
            dbms: 'h2, mysql'
            sql: INSERT INTO permission (created, updated, modified_by, name, description) VALUES
              (NOW(), NOW(), 'liquibase', 'protocol.template.create', 'Can create Protocol Templates'),
              (NOW(), NOW(), 'liquibase', 'protocol.create', 'Can create Protocols'),
              (NOW(), NOW(), 'liquibase', 'protocol.step.template.create', 'Can create Protocol Step Templates'),
              (NOW(), NOW(), 'liquibase', 'protocol.step.template.category.create', 'Can create Protocol Step Template Categories'),
              (NOW(), NOW(), 'liquibase', 'protocol.step.create', 'Can create Protocol Steps'),
              (NOW(), NOW(), 'liquibase', 'protocol.step.task.create', 'Can create Protocol Step Tasks'),
              (NOW(), NOW(), 'liquibase', 'protocol.step.status.create', 'Can create Protocol Step Statuses'),
              (NOW(), NOW(), 'liquibase', 'homework.create', 'Can created a create Homework'),
              (NOW(), NOW(), 'liquibase', 'homework.response.create', 'Can create Homework Responses'),
              (NOW(), NOW(), 'liquibase', 'account.create', 'Can create User Accounts'),
              (NOW(), NOW(), 'liquibase', 'role.create', 'Can create Roles'),
              (NOW(), NOW(), 'liquibase', 'authorization.create', 'Can create Authorizations'),
              (NOW(), NOW(), 'liquibase', 'permission.create', 'Can create Permissions'),
              (NOW(), NOW(), 'liquibase', 'registered.client.create', 'Can create Registered Clients'),
              (NOW(), NOW(), 'liquibase', 'account.create', 'Can create Accounts');
        - sql:
            dbms: 'h2, mysql'
            sql: INSERT INTO `authorization`.role_permission (role_id,permission_id)
              SELECT r.id, p.id FROM role r, permission p WHERE r.name = 'Admin';